# OpenRouter (required for all AI features - chat and image generation)
OPENROUTER_API_KEY=sk-or-your-openrouter-key
OPENROUTER_REFERRER=http://localhost:3000
OPENROUTER_TITLE=visibible

# Image generation (set to true to enable)
ENABLE_IMAGE_GENERATION=false

# Convex (for image storage)
# Deployment name from Convex dashboard (e.g., 'prod:your-deployment-name')
# Find this in your Convex dashboard under Deployment Settings
CONVEX_DEPLOYMENT=
# Public URL/endpoint from Convex dashboard (e.g., 'https://your-deployment-name.convex.cloud')
# Find this in your Convex dashboard under Deployment Settings
NEXT_PUBLIC_CONVEX_URL=
# Server secret for authenticating API route calls to Convex actions
# This prevents malicious clients from directly calling credit mutations
# Generate with: openssl rand -hex 32
CONVEX_SERVER_SECRET=

# Session management (required for credits system)
# Generate a secure random secret: openssl rand -base64 32
SESSION_SECRET=
# Separate secret for IP hashing (defense in depth - if SESSION_SECRET leaks, IP hashes remain unpredictable)
# Generate with: openssl rand -base64 32
IP_HASH_SECRET=
# Proxy trust (recommended in production for accurate client IPs)
# See llm/security/PROXY_CONFIGURATION.md for detailed guidance
# TRUST_PROXY_PLATFORM=vercel
# TRUSTED_PROXY_IPS="203.0.113.10,203.0.113.0/24,2001:db8::/32"
# DEBUG_PROXY=true  # Enable proxy trust audit logging
# Public app URL (recommended in production for origin validation allowlist)
# Example: https://your-app-domain.com
NEXT_PUBLIC_APP_URL=

# Lightning payments (for credit purchases)
# Voltage LND node hostname (without https:// or port)
LND_HOST=your-node.m.voltageapp.io
# Invoice-only macaroon in hex format (for invoice creation and lookup)
LND_INVOICE_MACAROON=your-invoice-macaroon-hex

# Admin access (optional - for privileged users with unlimited access)
ADMIN_PASSWORD=your-secret-admin-password
# HMAC secret for admin password verification (any secure random value)
# Generate with: openssl rand -hex 32
ADMIN_PASSWORD_SECRET=

# Nostr auto-publishing (optional - for sharing generated images to Nostr)
# IMPORTANT: Set NOSTR_PRIVATE_KEY in the CONVEX DASHBOARD (Settings > Environment Variables),
# not in .env.local. Convex actions cannot read .env.local.
#
# NOSTR_PRIVATE_KEY - Hex-encoded (64 chars) or nsec format
#
# Note: CONVEX_CLOUD_URL is a built-in Convex system variable (no manual config needed).
# Images will be published to relay.nostr.band, nos.lol, relay.damus.io, relay.primal.net
